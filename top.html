<!DOCTYPE html>
<html lang="ka">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1P900RJ6DJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-1P900RJ6DJ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TILO.LIFE - áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Outfit:wght@400;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="news.css">
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="ratings.css">
    <script src="security.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5131926411609590"
        crossorigin="anonymous"></script>
    <style>
        .detail-card {
            background: var(--news-card-bg);
            border-radius: 30px;
            padding: 50px;
            box-shadow: var(--news-shadow);
            border: 1px solid var(--news-border);
            text-align: center;
            max-width: 900px;
            margin: 50px auto;
            backdrop-filter: blur(15px);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .count-down-big {
            font-size: 5rem;
            font-weight: 900;
            color: var(--news-primary);
            font-family: 'Outfit', sans-serif;
            margin: 30px 0;
            text-shadow: 0 10px 30px rgba(0, 102, 204, 0.3);
            letter-spacing: -2px;
        }

        @media (max-width: 768px) {
            .count-down-big {
                font-size: 3rem;
            }

            .detail-card {
                padding: 30px 20px;
            }
        }

        .big-btn {
            padding: 22px 50px;
            font-size: 1.6rem;
            width: 100%;
            margin-top: 30px;
            border-radius: 20px;
        }

        .img-large {
            width: 100%;
            height: 450px;
            object-fit: cover;
            border-radius: 25px;
            margin-bottom: 35px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body class="news-portal">
    <header class="news-header">
        <div class="header-container">
            <a href="index.html" class="logo-text">TILO<span>.LIFE</span></a>
            <nav class="nav-menu">
                <a href="index.html" class="nav-link">áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜</a>
                <a href="game.html" class="nav-link">áƒ—áƒáƒ›áƒáƒ¨áƒ˜</a>
            </nav>
            <div class="auth-nav">
                <a href="index.html" class="nav-link">ğŸ  áƒ£áƒ™áƒáƒœ</a>
            </div>
        </div>
    </header>

    <div class="portal-container" style="display: block;">
        <div id="detail-container" class="detail-card">
            <div style="padding: 100px 0; opacity: 0.5;">
                <div class="loader" style="margin: 0 auto 20px;"></div>
                áƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ”áƒ‘áƒ...
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="news-footer">
        <div class="footer-container">
            <h2 class="logo-text">TILO<span>.LIFE</span></h2>
            <p style="opacity: 0.6; margin-top: 10px;">áƒ§áƒ•áƒ”áƒšáƒ áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ áƒ“áƒáƒªáƒ£áƒšáƒ˜áƒ &copy; 2026</p>

            <div class="footer-counters">
                <!-- TOP.GE ASYNC COUNTER CODE -->
                <div id="top-ge-counter-container" data-site-id="118538"></div>
                <script async src="//counter.top.ge/counter.js"></script>

                <!-- WAUST.AT COUNTER CODE -->
                <script
                    id="_wau3mz">var _wau = _wau || []; _wau.push(["dynamic", "rcj6goig4h", "3mz", "c4302bffffff", "small"]);</script>
                <script async src="//waust.at/d.js"></script>
            </div>

            <div
                style="margin-top:20px; display:flex; justify-content:center; gap:20px; flex-wrap:wrap; font-size: 0.85rem;">
                <a href="privacy.html" style="color:var(--news-primary); text-decoration:none;">ğŸ”’ áƒ™áƒáƒœáƒ¤áƒ˜áƒ“áƒ”áƒœáƒªáƒ˜áƒáƒšáƒ£áƒ áƒáƒ‘áƒ</a>
                <a href="about.html" style="color:var(--news-primary); text-decoration:none;">ğŸŒ áƒ©áƒ•áƒ”áƒœ áƒ¨áƒ”áƒ¡áƒáƒ®áƒ”áƒ‘</a>
                <a href="mailto:contact@tilo.life" style="color:var(--news-primary); text-decoration:none;">ğŸ“§
                    áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</a>
            </div>
        </div>
    </footer>

    <script type="module">
        import { neon } from 'https://cdn.jsdelivr.net/npm/@neondatabase/serverless@0.9.4/+esm';
        const DB_URL = "postgresql://neondb_owner:npg_NBPsUe3FXb4o@ep-calm-wildflower-aim8iczt-pooler.c-4.us-east-1.aws.neon.tech/neondb?sslmode=require";
        const sql = neon(DB_URL);

        const get = id => document.getElementById(id);
        const params = new URLSearchParams(window.location.search);
        const itemId = params.get('id');

        async function loadItem() {
            if (!itemId) { location.href = 'index.html'; return; }

            try {
                const res = await sql`SELECT * FROM admin_abuse WHERE id = ${itemId}`;
                if (res.length === 0) {
                    get('detail-container').innerHTML = "<h2 style='font-weight:900;'>âŒ áƒ•áƒ”áƒ  áƒ›áƒáƒ˜áƒ«áƒ”áƒ‘áƒœáƒ</h2><a href='index.html' class='action-btn' style='display:inline-block; margin-top:20px;'>áƒ£áƒ™áƒáƒœ áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</a>";
                    return;
                }
                const item = res[0];
                const container = get('detail-container');

                container.innerHTML = `
                    <div style="position:relative;">
                        <img src="${item.image_url}" class="img-large" onerror="this.src='https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=1000'">
                    </div>
                    <h1 style="font-size: 3rem; font-weight: 900; margin-bottom: 10px; color: var(--news-text); line-height: 1.1;">${item.title}</h1>
                    <p style="opacity: 0.6; font-size: 1.2rem; font-weight: 600;">áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒšáƒ˜áƒ:</p>
                    <div id="big-timer" class="count-down-big">00:00:00</div>
                    <button onclick="window.open('${item.link_url}', '_blank')" class="action-btn big-btn">ğŸš€ áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ áƒ—áƒáƒ›áƒáƒ¨áƒ–áƒ”</button>
                    <div style="margin-top: 30px; padding-top: 30px; border-top: 1px solid var(--news-border); display: flex; justify-content: center; gap: 20px;">
                        <button onclick="shareLink()" style="background:none; border:none; color:var(--news-primary); font-weight:800; cursor:pointer; display:flex; align-items:center; gap:8px;">ğŸ”— áƒšáƒ˜áƒœáƒ™áƒ˜áƒ¡ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ</button>
                    </div>
                `;

                startTimer(item.end_time);
            } catch (e) {
                console.error(e);
                get('detail-container').innerHTML = "<h2 style='color:red;'>âš ï¸ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ</h2>";
            }
        }

        function startTimer(endTimeStr) {
            const update = () => {
                const el = get('big-timer');
                if (!el) return;
                const end = new Date(endTimeStr);
                const now = new Date();
                const diff = end - now;

                if (diff <= 0) {
                    el.textContent = "áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ“áƒ";
                    el.style.color = "#ff4757";
                    return;
                }

                const d = Math.floor(diff / (1000 * 60 * 60 * 24));
                const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const s = Math.floor((diff % (1000 * 60)) / 1000);

                let timeStr = `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
                if (d > 0) timeStr = `${d}áƒ“ ${timeStr}`;
                el.textContent = timeStr;
            };
            update();
            setInterval(update, 1000);
        }

        window.shareLink = () => {
            navigator.clipboard.writeText(window.location.href);
            alert('áƒšáƒ˜áƒœáƒ™áƒ˜ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ! âœ…');
        };

        if (localStorage.getItem('tilo_dark_mode') !== 'false') document.body.classList.add('dark-mode');
        loadItem();

        setInterval(() => {
            document.querySelectorAll('.footer-counters a').forEach(a => {
                if (a.getAttribute('target') !== '_blank') a.setAttribute('target', '_blank');
            });
        }, 3000);
    </script>
</body>

</html>