<!DOCTYPE html>
<html lang="ka">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TILO.LIFE - სიახლეების პორტალი</title>

    <!-- Open Graph / Discord Previews -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tilo.life/">
    <meta property="og:title" content="TILO.LIFE - სიახლეების პორტალი">
    <meta property="og:description" content="გაიგეთ უახლესი ამბები, ითამაშეთ და დააგროვეთ ქოინები თილოს სამყაროში!">
    <meta property="og:image"
        content="https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=1200">
    <meta name="theme-color" content="#0066cc">
    <meta name="twitter:card" content="summary_large_image">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Outfit:wght@400;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="news.css">
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="ratings.css">
    <script src="security.js"></script>
    <script src="https://kit.fontawesome.com/your-code.js" crossorigin="anonymous"></script>
</head>

<body class="news-portal">

    <!-- Header -->
    <header class="news-header">
        <div class="header-container">
            <a href="index.html" class="logo-text">TILO<span>.LIFE</span></a>

            <nav class="nav-menu">
                <a href="#" class="nav-link active">მთავარი</a>
            </nav>

            <div class="auth-nav">
                <div id="user-profile-header" class="hidden"
                    style="display: flex; align-items: center; gap: 10px; cursor: pointer; position: relative;">
                    <span id="header-nickname"
                        style="font-weight: 800; color: var(--news-primary); font-size: 0.9rem;"></span>
                    <div id="profile-btn" class="profile-circle">U</div>

                    <!-- Dropdown -->
                    <div id="profile-dropdown" class="profile-dropdown">
                        <a href="profile.html" class="dropdown-item">👤 პროფილი</a>
                        <div class="dropdown-item" id="dark-mode-toggle">
                            <span>🌙 Dark Mode</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="dark-mode-checkbox">
                                <span class="slider"></span>
                            </div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div id="nav-logout-btn" class="dropdown-item" style="color: var(--news-accent);">🔒 გასვლა
                        </div>
                    </div>
                </div>
                <button id="login-nav-btn" class="nav-link"
                    style="border: none; background: none; cursor: pointer; font-family: inherit;">🔐 შესვლა</button>
            </div>
        </div>
    </header>

    <div class="portal-container">
        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Hero / Game Link -->
            <div id="hero-section" class="game-portal-hero" onclick="location.href='game.html'">
                <h1>TILO WORLD</h1>
                <p>ითამაშე ტილო, გაასუფთავე სამყარო და მოიგე პრიზები!</p>
                <button class="hero-btn">თამაშის დაწყება 🎮</button>
            </div>

            <!-- News Grid -->
            <div id="news-grid" class="news-grid" style="margin-top: 30px;">
                <!-- News cards injected here -->
                <p style="text-align: center; grid-column: 1/-1; padding: 50px; opacity: 0.5;">სიახლეები იტვირთება...
                </p>
            </div>

            <!-- News Detail View (Hidden Initially) -->
            <div id="news-detail" class="hidden">
                <button onclick="showNewsList()" class="nav-link"
                    style="margin-bottom: 25px; border: none; background: none; cursor: pointer; padding: 0;">
                    ← უკან დაბრუნება
                </button>
                <div id="detail-content"></div>

                <!-- Like & Interaction Part -->
                <div class="interaction-bar"
                    style="margin-top: 30px; border-top: 1px solid var(--news-border); padding-top: 25px; display: flex; gap: 20px;">
                    <button id="like-btn"
                        style="border: 1px solid var(--news-border); background: var(--news-bg); color: var(--news-text); padding: 12px 25px; border-radius: 50px; cursor: pointer; font-weight: 700; transition: var(--transition);">
                        ❤️ <span id="like-count">0</span> მოწონება
                    </button>
                </div>

                <!-- Comments -->
                <section class="comment-section">
                    <h3>💬 კომენტარები</h3>
                    <div id="comment-form-container">
                        <textarea id="comment-input" class="comment-input"
                            placeholder="დაწერეთ თქვენი აზრი..."></textarea>
                        <button id="submit-comment-btn" class="hero-btn"
                            style="padding: 10px 25px; font-size: 0.9rem;">გაგზავნა</button>
                    </div>
                    <div id="comments-list" class="comment-list">
                        <!-- Comments injected here -->
                    </div>
                </section>
            </div>
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-title">ყველა სიახლე</div>
            <div id="sidebar-news-list" class="sidebar-list">
                <!-- Sidebar items injected here -->
            </div>
        </aside>
    </div>

    <!-- Floating Game Button -->
    <a href="game.html" class="floating-game-btn">🧼</a>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal hidden">
        <div class="modal-content glass" style="max-width: 400px;">
            <span class="close-modal" id="close-auth">&times;</span>
            <div id="auth-mode-toggle" style="display: flex; gap: 10px; margin-bottom: 25px;">
                <button id="show-login-btn" class="action-btn">შესვლა</button>
                <button id="show-register-btn" class="action-btn second-btn">რეგისტრაცია</button>
            </div>
            <h2 id="auth-title">ავტორიზაცია</h2>
            <div style="margin-top: 25px;">
                <div id="nick-field" class="auth-field hidden">
                    <input type="text" id="nickname-input" placeholder="ნიკნეიმი" maxlength="15">
                </div>
                <div class="auth-field">
                    <input type="text" id="auth-email" placeholder="ელ-ფოსტა">
                </div>
                <div class="auth-field">
                    <input type="password" id="auth-password" placeholder="პაროლი">
                </div>
                <button id="auth-submit-btn" class="action-btn" style="width: 100%; margin-top: 20px;">შესვლა</button>
            </div>
        </div>
    </div>

    <!-- User Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content glass" style="max-width: 500px; background: rgba(255,255,255,0.98); color: #222;">
            <span class="close-modal" id="close-settings" style="color: #000;">&times;</span>
            <h2>👤 პროფილის რედაქტირება</h2>
            <div id="profile-edit-form" style="margin-top: 20px;">
                <div class="auth-field">
                    <label>ნიკნეიმი:</label>
                    <input type="text" id="edit-nick" style="background: #eee; color: #000;">
                </div>
                <button id="update-profile-btn" class="action-btn"
                    style="background: var(--news-primary); margin-top: 15px;">შენახვა</button>
                <button id="logout-btn" class="action-btn second-btn" style="margin-top: 20px;">გასვლა</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="news-footer">
        <div class="footer-container">
            <h2 class="logo-text">TILO<span>.LIFE</span></h2>
            <p style="opacity: 0.6; margin-top: 10px;">ყველა უფლება დაცულია &copy; 2024</p>

            <div class="footer-counters">
                <!-- TOP.GE ASYNC COUNTER CODE -->
                <div id="top-ge-counter-container" data-site-id="118538"></div>
                <script async src="//counter.top.ge/counter.js"></script>
                <!-- / END OF TOP.GE COUNTER CODE -->

                <!-- WAUST.AT COUNTER CODE -->
                <script
                    id="_wau3mz">var _wau = _wau || []; _wau.push(["dynamic", "rcj6goig4h", "3mz", "c4302bffffff", "small"]);</script>
                <script async src="//waust.at/d.js"></script>
                <!-- / END OF WAUST.AT COUNTER CODE -->
            </div>
        </div>
    </footer>

    <script type="module" src="portal.js"></script>
</body>

</html>